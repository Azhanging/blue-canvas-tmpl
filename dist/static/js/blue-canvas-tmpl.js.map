{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 7f4c3958f309e936e139","webpack:///./node_modules/_blue-utils@1.0.9@blue-utils/index.js","webpack:///./src/render/index.js","webpack:///./src/index.js","webpack:///./src/instance/index.js","webpack:///./src/instance/init.js","webpack:///./src/canvas/index.js","webpack:///./src/img/index.js","webpack:///./node_modules/_blue-queue-pipe@1.0.2@blue-queue-pipe/src/blue-queue-pipe.js","webpack:///./src/arc/index.js","webpack:///./src/text/index.js","webpack:///./src/device/index.js"],"names":["BlueUtils","prototype","constructor","nullPlainObject","val","JSON","stringify","isStr","isPlainObject","toString","isArray","Array","isObjcet","isDef","undefined","isUndef","isBlankSpace","trim","length","isTrue","bool","isFalse","isFunction","fn","hook","context","callback","args","apply","each","obj","cb","isReturn","i","index","newVal","len","push","hasOwnProperty","deepCopy","_obj","key","Object","extend","object","_object","isDeep","oldObjKeys","findIndexInOld","indexOf","splice","bind","copy","getRegExp","expr","tm","tmItem","replace","RegExp","getObjLen","getLinkParams","link","linkType","split","queryString","parseParams","linkQuery","forEach","queryItemString","splitQueryItem","value","stringifyParams","query","_query","encodeURIComponent","join","blueUtils","module","exports","render","renderList","options","item","type","renderImg","call","renderText","img","image","utils","created","canvasCtx","drawImage","x","y","width","height","rendered","text","font","fillStyle","style","fillText","content","BlueCanvasTmpl","opts","init","update","clearRect","arc","arguments","getByteLength","loadQueue","id","canvas","initCanvas","console","warn","load","el","document","querySelector","getContext","blueCanvasTmpl","BlueQueuePipe","methods","next","isEmpty","dequeue","log","loadImgs","findImgs","imgs","src","enqueue","Image","onload","parseInt","useMethod","onerror","_init","queue","data","enqueued","dequeued","ran","setEnqueued","setDequeued","shift","clear","first","last","run","queueCtx","ctx","name","radius","color","beginPath","lineWidth","moveTo","lineTo","arcTo","closePath","char","charAt","match","device","isWap","substr","lastVal","isWeChat","isIPhone","isIPad","isAndroid","isApp","isPc","isServer","userAgent","navigator","test","e"],"mappings":"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","file":"js/blue-canvas-tmpl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BlueCanvasTmpl\"] = factory();\n\telse\n\t\troot[\"BlueCanvasTmpl\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./static\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7f4c3958f309e936e139","//blue utils 常用工具类 ES5\r\nfunction BlueUtils() {\r\n}\r\n\r\n//工具方法\r\nBlueUtils.prototype = {\r\n\r\n  constructor: BlueUtils,\r\n\r\n  //是否为空的对象\r\n  nullPlainObject: function (val) {\r\n    return JSON.stringify(val) === \"{}\";\r\n  },\r\n\r\n  //是否为字符串\r\n  isStr: function (val) {\r\n    return typeof val === 'string';\r\n  },\r\n\r\n  //是否为对象类型\r\n  isPlainObject: function (val) {\r\n    return val && val !== null && (val.toString() === '[object Object]');\r\n  },\r\n\r\n  //是否为数组\r\n  isArray: function (val) {\r\n    return val instanceof Array;\r\n  },\r\n\r\n  //是否为对象\r\n  isObjcet: function (val) {\r\n    return this.isPlainObject(val) || this.isArray(val);\r\n  },\r\n\r\n  //是否为定义\r\n  isDef: function (val) {\r\n    return val !== undefined && val !== null;\r\n  },\r\n\r\n  //是否为未定义\r\n  isUndef: function (val) {\r\n    return val === undefined || val === null;\r\n  },\r\n\r\n  //val是否为空\r\n  isBlankSpace: function (val) {\r\n    return val.trim().length === 0;\r\n  },\r\n\r\n  //是否为true\r\n  isTrue: function (bool) {\r\n    return bool === true;\r\n  },\r\n\r\n  //是否为false\r\n  isFalse: function (bool) {\r\n    return bool === false;\r\n  },\r\n\r\n  //是否为function\r\n  isFunction: function (fn) {\r\n    return typeof fn === 'function';\r\n  },\r\n\r\n  //执行某一段在context 中的 function ，带上指定的arguments\r\n  hook: function (context, callback, args) {\r\n\r\n    if (callback === undefined) callback = function () {\r\n    };\r\n\r\n    if (args === undefined) args = [];\r\n\r\n    if (this.isFunction(callback)) {\r\n      return callback.apply(context, args);\r\n    }\r\n  },\r\n\r\n  //遍历\r\n  each: function (obj, cb, isReturn) {\r\n\r\n    if (!isReturn) isReturn = false;\r\n\r\n    if (this.isUndef(obj)) return;\r\n\r\n    var i = 0,\r\n      index = 0,\r\n      newVal = [],\r\n      len = obj.length;\r\n\r\n    if (this.isArray(obj) || this.isStr(obj)) {\r\n      for (; i < len; i++) {\r\n        if (isReturn) {\r\n          newVal.push(cb(obj[i], i));\r\n        } else {\r\n          cb(obj[i], i);\r\n        }\r\n      }\r\n    } else if (this.isPlainObject(obj)) {\r\n      for (i in obj) {\r\n        if (!obj.hasOwnProperty(i)) continue;\r\n        if (isReturn) {\r\n          newVal.push(cb(obj[i], i, index++));\r\n        } else {\r\n          cb(obj[i], i, index++);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isReturn) return newVal;\r\n  },\r\n\r\n  //深拷贝\r\n  deepCopy: function (obj) {\r\n    if (!obj || !(obj instanceof Array) && !(obj.toString() === \"[object Object]\")) return obj;\r\n    var _obj = obj instanceof Array ? [] : {};\r\n    for (var key in obj) {\r\n      if (!obj.hasOwnProperty(key)) continue;\r\n      if ((obj instanceof Array) || (obj instanceof Object)) {\r\n        _obj[key] = this.deepCopy(obj[key]);\r\n      } else {\r\n        _obj[key] = obj[key];\r\n      }\r\n    }\r\n    return _obj;\r\n  },\r\n\r\n  //扩展\r\n  extend: function (object, _object, isDeep) {\r\n\r\n    if (isDeep === undefined) isDeep = true;\r\n\r\n    if (isDeep) object = this.deepCopy(object);\r\n\r\n    var oldObjKeys = this.each(object, function (obj, key) {\r\n      return key;\r\n    }, true);\r\n\r\n    this.each(_object, function (obj, key) {\r\n\r\n      var findIndexInOld = oldObjKeys.indexOf(key);\r\n\r\n      if (findIndexInOld != -1) {\r\n        oldObjKeys.splice(findIndexInOld, 1);\r\n      }\r\n\r\n      if (this.isPlainObject(obj)) {\r\n        if (!object[key]) {\r\n          object[key] = {};\r\n        }\r\n        this.extend(object[key], obj, isDeep);\r\n      }\r\n      object[key] = obj;\r\n    }.bind(this));\r\n\r\n    this.each(oldObjKeys, function (key) {\r\n      _object[key] = object[key];\r\n    });\r\n\r\n    return object;\r\n  },\r\n\r\n  //把当前key-value复制到对应对象的key-value上\r\n  copy: function (object, _object) {\r\n    this.each(_object, function (obj, key) {\r\n      object[key] = obj;\r\n    });\r\n  },\r\n\r\n  //获取表达式\r\n  getRegExp: function (expr) {\r\n    var tm = '\\\\/*.?+$^[](){}|\\'\\\"';\r\n    this.each(tm, function (tmItem, index) {\r\n      expr = expr.replace(new RegExp('\\\\' + tmItem, 'g'), '\\\\' + tmItem);\r\n    });\r\n    return expr;\r\n  },\r\n\r\n  //或者object的长度\r\n  getObjLen: function (obj) {\r\n    var index = 0;\r\n    this.each(obj, function () {\r\n      ++index;\r\n    });\r\n    return index;\r\n  },\r\n\r\n  //获取链接中的参数\r\n  getLinkParams: function (link) {\r\n    var linkType = link.split('?');\r\n    var queryString = linkType[1];\r\n    if (linkType.length > 0 && queryString && queryString !== '') {\r\n      return queryString;\r\n    }\r\n    return '';\r\n  },\r\n\r\n  //query string 转化为 object\r\n  parseParams: function (queryString) {\r\n    var linkQuery = {};\r\n    if (!queryString) return linkQuery;\r\n    //是否存在原query\r\n    (queryString.split('&') || []).forEach(function (queryItemString) {\r\n      var splitQueryItem = queryItemString.split('=');\r\n      var key = splitQueryItem[0];\r\n      var value = splitQueryItem[1];\r\n      linkQuery[key] = value;\r\n    });\r\n    return linkQuery;\r\n  },\r\n\r\n  //query 转化为 string\r\n  stringifyParams: function (query) {\r\n    if (!this.isPlainObject(query)) return '';\r\n    var _query = [];\r\n    this.each(query, function (value, key) {\r\n      _query.push(key + '=' + encodeURIComponent(value));\r\n    });\r\n    return _query.join('&');\r\n  }\r\n};\r\n\r\nvar blueUtils = new BlueUtils();\r\n\r\nmodule.exports = blueUtils;\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/_blue-utils@1.0.9@blue-utils/index.js","import utils from 'blue-utils';\r\n\r\n//渲染\r\nexport default function render() {\r\n  const renderList = this.options.renderList;\r\n  (renderList || []).forEach((item) => {\r\n    if (item.type === 'img') {\r\n      renderImg.call(this, item);\r\n    } else if (item.type === 'text') {\r\n      renderText.call(this, item);\r\n    }\r\n  });\r\n}\r\n\r\n//渲染图片\r\nfunction renderImg(img) {\r\n  //插入图片\r\n  if (img.image) {\r\n    utils.hook(this, img.created, [img]);\r\n    this.canvasCtx.drawImage(img.image, img.x, img.y, img.width, img.height);\r\n    utils.hook(this, img.rendered, [img]);\r\n  }\r\n}\r\n\r\n//渲染文字\r\nexport function renderText(text) {\r\n  utils.hook(this, text.created, [text]);\r\n  const canvasCtx = this.canvasCtx;\r\n  canvasCtx.font = text.font || '15px arial, 微软雅黑, sans-serif';\r\n  canvasCtx.fillStyle = text.style || '#000';\r\n  canvasCtx.fillText(text.content, text.x, text.y);\r\n  utils.hook(this, text.rendered, [text]);\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/render/index.js","import BlueCanvasTmpl from './instance';\r\n\r\nexport default BlueCanvasTmpl;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import init from './init';\r\nimport { renderText } from '../render';\r\nimport { arc } from '../arc';\r\nimport { getByteLength } from '../text';\r\n\r\nclass BlueCanvasTmpl {\r\n  constructor(opts = {\r\n    //创建后的钩子\r\n    created() {\r\n\r\n    },\r\n    renderList: [/*{\r\n      type: 'img',\r\n      src: '',\r\n      x: 0,\r\n      y: 0,\r\n      width: 0,\r\n      height: 0,\r\n      created() {\r\n        //创建前的钩子\r\n      },\r\n      rendered() {\r\n        //渲染后的钩子\r\n      }\r\n    }, {\r\n      type: 'text',\r\n      font: '',\r\n      style: '',\r\n      content: '',\r\n      x: 0,\r\n      y: 0\r\n    }*/],\r\n    //渲染完毕后的钩子\r\n    rendered() {\r\n\r\n    }\r\n  }) {\r\n    this.init(opts);\r\n  }\r\n\r\n  init(opts) {\r\n    init.call(this, opts);\r\n  }\r\n\r\n  renderText(text) {\r\n    renderText.call(this, text);\r\n  }\r\n\r\n  //更新\r\n  update(options) {\r\n    if (options) {\r\n      this.options = options;\r\n    }\r\n    this.canvasCtx.clearRect(0, 0, this.options.width, this.options.height);\r\n    this.init();\r\n  }\r\n\r\n  arc() {\r\n    arc.apply(this, arguments);\r\n  }\r\n\r\n  getByteLength() {\r\n    return getByteLength.apply(this, arguments);\r\n  }\r\n\r\n  static getByteLength() {\r\n    return getByteLength.apply(this, arguments);\r\n  }\r\n\r\n}\r\n\r\nexport default BlueCanvasTmpl;\n\n\n// WEBPACK FOOTER //\n// ./src/instance/index.js","import { initCanvas } from \"../canvas\";\r\nimport utils from 'blue-utils';\r\nimport { load } from '../img';\r\n\r\nfunction init(opts) {\r\n  this.options = opts;\r\n  //预加载队列\r\n  this.loadQueue = [];\r\n  this.id = 0;\r\n  const { canvas, canvasCtx } = initCanvas.call(this);\r\n  if (!canvas) {\r\n    console.warn(`element is null`);\r\n    return;\r\n  }\r\n  this.canvasCtx = canvasCtx;\r\n  this.canvas = canvas;\r\n  //创建完毕的钩子\r\n  utils.hook(this, this.options.created);\r\n  //预加载\r\n  load.call(this);\r\n}\r\n\r\nexport default init;\n\n\n// WEBPACK FOOTER //\n// ./src/instance/init.js","export function initCanvas() {\r\n  const options = this.options;\r\n  if (!options.el) return {};\r\n  const canvas = document.querySelector(options.el);\r\n  if (!canvas) return {};\r\n  const canvasCtx = canvas.getContext('2d');\r\n  canvas.width = options.width;\r\n  canvas.height = options.height;\r\n  return {\r\n    canvasCtx,\r\n    canvas\r\n  };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/canvas/index.js","import utils from 'blue-utils';\r\nimport BlueQueuePipe from 'blue-queue-pipe';\r\nimport render from '../render';\r\n\r\n//预加载\r\nexport function load() {\r\n  const blueCanvasTmpl = this;\r\n  this.id++;\r\n  //设置预加载的队列\r\n  this.loadQueue = new BlueQueuePipe({\r\n    methods: {\r\n      next() {\r\n        if (!this.isEmpty()) {\r\n          utils.hook(this, this.dequeue());\r\n        } else {\r\n          console.log('render');\r\n          //没有就进行渲染\r\n          render.call(blueCanvasTmpl);\r\n        }\r\n      }\r\n    }\r\n  });\r\n  //查找渲染中为图片，预加载图片\r\n  loadImgs.call(this, findImgs.call(this));\r\n}\r\n\r\n//查找图片\r\nfunction findImgs() {\r\n  const { renderList } = this.options;\r\n  const imgs = [];\r\n  utils.each(renderList, (item) => {\r\n    if (item.type === 'img') {\r\n      imgs.push(item);\r\n    }\r\n  });\r\n  return imgs;\r\n}\r\n\r\n//预加载图片\r\nfunction loadImgs(imgs) {\r\n  const id = this.id;\r\n  (imgs || []).forEach((img) => {\r\n    if (!img.src) return;\r\n    this.loadQueue.enqueue(() => {\r\n      const image = new Image();\r\n      image.id = this.id;\r\n      image.onload = () => {\r\n        //限定执行的id\r\n        if (parseInt(image.id) === id) {\r\n          img.image = image;\r\n          //队列下一跳\r\n          console.log('success');\r\n          this.loadQueue.useMethod('next');\r\n        }\r\n      };\r\n\r\n      image.onerror = () => {\r\n        //队列下一跳\r\n        console.log('error');\r\n        this.loadQueue.useMethod('next');\r\n      };\r\n\r\n      image.src = img.src;\r\n\r\n    });\r\n  });\r\n  console.log('next');\r\n  this.loadQueue.useMethod('next');\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/img/index.js","/*\r\n* blue-queue-pipe.js v1.0.0\r\n* (c) 2016-2020 Blue\r\n* Released under the MIT License.\r\n* https://github.com/azhanging/blue-queue-pipe\r\n* time:2019-4-9 00:43:15\r\n*/\r\n\r\nfunction BlueQueuePipe(opts) {\r\n  this._init(opts);\r\n}\r\n\r\nBlueQueuePipe.prototype = {\r\n\r\n  constructor: BlueQueuePipe,\r\n\r\n  _init: function (opts) {\r\n    if (!opts) opts = {};\r\n    //配置\r\n    this.options = opts;\r\n    //队列\r\n    this.queue = [];\r\n    //数据\r\n    this.data = opts.data || {};\r\n    //方法\r\n    this.methods = opts.methods || {};\r\n    //进列后的执行\r\n    this.enqueued = opts.enqueued;\r\n    //出列后的执行\r\n    this.dequeued = opts.dequeued;\r\n    //允许时钩子\r\n    this.ran = opts.ran;\r\n  },\r\n\r\n  setEnqueued: function (enqueue) {\r\n    this.options.enqueued = enqueue;\r\n  },\r\n\r\n  setDequeued: function (dequeue) {\r\n    this.options.dequeued = dequeue;\r\n  },\r\n\r\n  enqueue: function (obj) {\r\n    this.hook(this, this.enqueued, [this.queue.push(obj)]);\r\n  },\r\n\r\n  dequeue: function () {\r\n    var dequeue = this.queue.shift();\r\n    this.hook(this, this.dequeued, [dequeue]);\r\n    return dequeue;\r\n  },\r\n\r\n  isEmpty: function () {\r\n    return this.queue.length === 0;\r\n  },\r\n\r\n  clear: function () {\r\n    this.queue = [];\r\n  },\r\n\r\n  first: function () {\r\n    return this.queue[0];\r\n  },\r\n\r\n  last: function () {\r\n    return this.queue[this.queue.length - 1];\r\n  },\r\n\r\n  run: function () {\r\n    while (!this.isEmpty()) {\r\n      var dequeue = this.dequeue();\r\n      //如果队列项是function，执行\r\n      if (typeof dequeue === 'function') {\r\n        this.hook(this, this.ran, [dequeue({\r\n          queueCtx: this,\r\n          args: arguments\r\n        })]);\r\n      } else {\r\n        //非function给dequeued执行\r\n        this.hook(this, this.ran, [dequeue]);\r\n      }\r\n    }\r\n  },\r\n\r\n  hook: function (ctx, fn, args) {\r\n    (typeof fn === 'function') &&\r\n    fn.apply(ctx, (args instanceof Array) ? args : []);\r\n  },\r\n\r\n  //使用方法\r\n  useMethod: function (name, args) {\r\n    this.hook(this, this.methods[name], args || []);\r\n  }\r\n};\r\n\r\nmodule.exports = BlueQueuePipe;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/_blue-queue-pipe@1.0.2@blue-queue-pipe/src/blue-queue-pipe.js","export function arc(type, x, y, width, height, radius, color) {\r\n  const ctx = this.canvasCtx;\r\n  ctx.beginPath();\r\n  ctx.lineWidth = 1;\r\n  ctx[type + 'Style'] = color;\r\n  ctx.moveTo(x, y);\r\n  ctx.lineTo(x + width, y);\r\n  ctx.arcTo(x + width + radius, y, x + width + radius, y + radius, radius);\r\n  ctx.lineTo(x + width + radius, y + height);\r\n  ctx.arcTo(x + width + radius, y + height + radius, x + width, y + radius + height, radius);\r\n  ctx.lineTo(x, y + height + radius);\r\n  ctx.arcTo(x - radius, y + height + radius, x - radius, y + height, radius);\r\n  ctx.lineTo(x - radius, y + radius);\r\n  ctx.arcTo(x - radius, y, x, y, radius);\r\n  ctx.closePath();\r\n  ctx[type]();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/arc/index.js","import device from '../device';\r\n\r\nexport function getByteLength(content, length, last) {\r\n  let len = 0;\r\n  for (let i = 0; i < content.length; i++) {\r\n    let char = content.charAt(i);\r\n    if (\r\n      char.match(/[\\u4E00-\\u9FBF]/ig) != null ||\r\n      char.match(/[\\u2014\\u300a\\u300b]/g) ||\r\n      (char.match(/[\\uff0c\\u3002\\u201c\\uff1a\\u201d\\u2014]/ig) != null && !device.isWap) ||\r\n      (char.match(/[\\uff0c\\u3002\\uff1a]/ig) != null && device.isWap)\r\n    ) {\r\n      len += 2;\r\n    } else {\r\n      len += 1;\r\n    }\r\n    //满足截取的字符长度\r\n    //截取的字符等于已经抓到的len，\r\n    if (length !== undefined && (length === len || length < len)) {\r\n      return {\r\n        val: content.substr(0, i + 1),\r\n        lastVal: content.substr(i + 1)\r\n      };\r\n    }\r\n  }\r\n  if (length !== undefined && last === true) {\r\n    return {\r\n      val: content.substr(0),\r\n      lastVal: ''\r\n    };\r\n  }\r\n  return len;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/text/index.js","//获取当前设备信息\r\nexport default function device() {\r\n  //默认\r\n  let device = {\r\n    isWeChat: false,  //是否在微信端\r\n    isWap: false,     //是否为移动设备\r\n    isIPhone: false,\r\n    isIPad: false,\r\n    isAndroid: false,\r\n    isApp: false,     //是否在app webview\r\n    isPc: false,      //是否为电脑端\r\n    isServer: true    //是否在服务器端 预留ssr处理\r\n  };\r\n\r\n  try {\r\n    const userAgent = navigator.userAgent;\r\n    const isWap = /iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/ig.test(userAgent);\r\n    const isWeChat = /MicroMessenger/ig.test(userAgent);\r\n    device = {\r\n      isWeChat,\r\n      isWap,\r\n      isIPhone: /iPhone/ig.test(userAgent),\r\n      isIPad: /iPad/ig.test(userAgent),\r\n      isAndroid: /Android/ig.test(userAgent),\r\n      isApp: false,\r\n      isPc: !isWap,\r\n      isServer: false\r\n    };\r\n  } catch (e) {\r\n\r\n  }\r\n\r\n  return device;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/device/index.js"],"sourceRoot":""}