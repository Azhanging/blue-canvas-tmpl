/*!
 * 
 * blue-canvas-tmpl.js 1.0.0
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-canvas-tmpl
 * time:Wed, 10 Apr 2019 17:23:35 GMT
 * 		
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BlueCanvasTmpl=e():t.BlueCanvasTmpl=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=2)}([function(t,e){function n(){}n.prototype={constructor:n,nullPlainObject:function(t){return"{}"===JSON.stringify(t)},isStr:function(t){return"string"==typeof t},isPlainObject:function(t){return t&&null!==t&&"[object Object]"===t.toString()},isArray:function(t){return t instanceof Array},isObjcet:function(t){return this.isPlainObject(t)||this.isArray(t)},isDef:function(t){return void 0!==t&&null!==t},isUndef:function(t){return void 0===t||null===t},isBlankSpace:function(t){return 0===t.trim().length},isTrue:function(t){return!0===t},isFalse:function(t){return!1===t},isFunction:function(t){return"function"==typeof t},hook:function(t,e,n){if(void 0===e&&(e=function(){}),void 0===n&&(n=[]),this.isFunction(e))return e.apply(t,n)},each:function(t,e,n){if(n||(n=!1),!this.isUndef(t)){var i=0,s=0,o=[],r=t.length;if(this.isArray(t)||this.isStr(t))for(;i<r;i++)n?o.push(e(t[i],i)):e(t[i],i);else if(this.isPlainObject(t))for(i in t)t.hasOwnProperty(i)&&(n?o.push(e(t[i],i,s++)):e(t[i],i,s++));return n?o:void 0}},deepCopy:function(t){if(!t||!(t instanceof Array)&&"[object Object]"!==t.toString())return t;var e=t instanceof Array?[]:{};for(var n in t)t.hasOwnProperty(n)&&(t instanceof Array||t instanceof Object?e[n]=this.deepCopy(t[n]):e[n]=t[n]);return e},extend:function(t,e,n){void 0===n&&(n=!0),n&&(t=this.deepCopy(t));var i=this.each(t,function(t,e){return e},!0);return this.each(e,function(e,s){var o=i.indexOf(s);-1!=o&&i.splice(o,1),this.isPlainObject(e)&&(t[s]||(t[s]={}),this.extend(t[s],e,n)),t[s]=e}.bind(this)),this.each(i,function(n){e[n]=t[n]}),t},copy:function(t,e){this.each(e,function(e,n){t[n]=e})},getRegExp:function(t){return this.each("\\/*.?+$^[](){}|'\"",function(e,n){t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t},getObjLen:function(t){var e=0;return this.each(t,function(){++e}),e},getLinkParams:function(t){var e=t.split("?"),n=e[1];return e.length>0&&n&&""!==n?n:""},parseParams:function(t){var e={};return t?((t.split("&")||[]).forEach(function(t){var n=t.split("="),i=n[0],s=n[1];e[i]=s}),e):e},stringifyParams:function(t){if(!this.isPlainObject(t))return"";var e=[];return this.each(t,function(t,n){e.push(n+"="+encodeURIComponent(t))}),e.join("&")}};var i=new n;t.exports=i},function(t,e,n){"use strict";e.a=function(){(this.options.renderList||[]).forEach(t=>{"img"===t.type?function(t){t.image&&(s.a.hook(this,t.created,[t]),this.canvasCtx.drawImage(t.image,t.x,t.y,t.width,t.height),s.a.hook(this,t.rendered,[t]))}.call(this,t):"text"===t.type&&o.call(this,t)})},e.b=o;var i=n(0),s=n.n(i);function o(t){s.a.hook(this,t.created,[t]);const e=this.canvasCtx;e.font=t.font||"15px arial, 微软雅黑, sans-serif",e.fillStyle=t.style||"#000",e.fillText(t.content,t.x,t.y),s.a.hook(this,t.rendered,[t])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);e.default=i.a},function(t,e,n){"use strict";var i=n(4),s=n(1),o=n(8),r=n(9);e.a=class{constructor(t={created(){},renderList:[],rendered(){}}){this.init(t)}init(t){i.a.call(this,t)}renderText(t){s.b.call(this,t)}update(t){t&&(this.options=t),this.canvasCtx.clearRect(0,0,this.options.width,this.options.height),this.init()}arc(){o.a.apply(this,arguments)}getByteLength(){return r.a.apply(this,arguments)}static getByteLength(){return r.a.apply(this,arguments)}}},function(t,e,n){"use strict";var i=n(5),s=n(0),o=n.n(s),r=n(6);e.a=function(t){this.options=t,this.loadQueue=[],this.id=0;const{canvas:e,canvasCtx:n}=i.a.call(this);e?(this.canvasCtx=n,this.canvas=e,o.a.hook(this,this.options.created),r.a.call(this)):console.warn("element is null")}},function(t,e,n){"use strict";e.a=function(){const t=this.options;if(!t.el)return{};const e=document.querySelector(t.el);if(!e)return{};const n=e.getContext("2d");return e.width=t.width,e.height=t.height,{canvasCtx:n,canvas:e}}},function(t,e,n){"use strict";e.a=function(){const t=this;this.id++,this.loadQueue=new r.a({methods:{next(){this.isEmpty()?(console.log("render"),u.a.call(t)):s.a.hook(this,this.dequeue())}}}),function(t){const e=this.id;(t||[]).forEach(t=>{t.src&&this.loadQueue.enqueue(()=>{const n=new Image;n.id=this.id,n.onload=(()=>{parseInt(n.id)===e&&(t.image=n,console.log("success"),this.loadQueue.useMethod("next"))}),n.onerror=(()=>{console.log("error"),this.loadQueue.useMethod("next")}),n.src=t.src})}),console.log("next"),this.loadQueue.useMethod("next")}.call(this,function(){const{renderList:t}=this.options,e=[];return s.a.each(t,t=>{"img"===t.type&&e.push(t)}),e}.call(this))};var i=n(0),s=n.n(i),o=n(7),r=n.n(o),u=n(1)},function(t,e){function n(t){this._init(t)}n.prototype={constructor:n,_init:function(t){t||(t={}),this.options=t,this.queue=[],this.data=t.data||{},this.methods=t.methods||{},this.enqueued=t.enqueued,this.dequeued=t.dequeued,this.ran=t.ran},setEnqueued:function(t){this.options.enqueued=t},setDequeued:function(t){this.options.dequeued=t},enqueue:function(t){this.hook(this,this.enqueued,[this.queue.push(t)])},dequeue:function(){var t=this.queue.shift();return this.hook(this,this.dequeued,[t]),t},isEmpty:function(){return 0===this.queue.length},clear:function(){this.queue=[]},first:function(){return this.queue[0]},last:function(){return this.queue[this.queue.length-1]},run:function(){for(;!this.isEmpty();){var t=this.dequeue();"function"==typeof t?this.hook(this,this.ran,[t({queueCtx:this,args:arguments})]):this.hook(this,this.ran,[t])}},hook:function(t,e,n){"function"==typeof e&&e.apply(t,n instanceof Array?n:[])},useMethod:function(t,e){this.hook(this,this.methods[t],e||[])}},t.exports=n},function(t,e,n){"use strict";e.a=function(t,e,n,i,s,o,r){const u=this.canvasCtx;u.beginPath(),u.lineWidth=1,u[t+"Style"]=r,u.moveTo(e,n),u.lineTo(e+i,n),u.arcTo(e+i+o,n,e+i+o,n+o,o),u.lineTo(e+i+o,n+s),u.arcTo(e+i+o,n+s+o,e+i,n+o+s,o),u.lineTo(e,n+s+o),u.arcTo(e-o,n+s+o,e-o,n+s,o),u.lineTo(e-o,n+o),u.arcTo(e-o,n,e,n,o),u.closePath(),u[t]()}},function(t,e,n){"use strict";e.a=function(t,e,n){let s=0;for(let n=0;n<t.length;n++){let o=t.charAt(n);if(null!=o.match(/[\u4E00-\u9FBF]/gi)||o.match(/[\u2014\u300a\u300b]/g)||null!=o.match(/[\uff0c\u3002\u201c\uff1a\u201d\u2014]/gi)&&!i.a.isWap||null!=o.match(/[\uff0c\u3002\uff1a]/gi)&&i.a.isWap?s+=2:s+=1,void 0!==e&&(e===s||e<s))return{val:t.substr(0,n+1),lastVal:t.substr(n+1)}}if(void 0!==e&&!0===n)return{val:t.substr(0),lastVal:""};return s};var i=n(10)},function(t,e,n){"use strict";e.a=function(){let t={isWeChat:!1,isWap:!1,isIPhone:!1,isIPad:!1,isAndroid:!1,isApp:!1,isPc:!1,isServer:!0};try{const e=navigator.userAgent,n=/iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/gi.test(e),i=/MicroMessenger/gi.test(e);t={isWeChat:i,isWap:n,isIPhone:/iPhone/gi.test(e),isIPad:/iPad/gi.test(e),isAndroid:/Android/gi.test(e),isApp:!1,isPc:!n,isServer:!1}}catch(t){}return t}}]).default});
//# sourceMappingURL=blue-canvas-tmpl.min.js.map