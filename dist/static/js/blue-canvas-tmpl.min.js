/*!
 * 
 * blue-canvas-tmpl.js 1.0.5
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-canvas-tmpl
 * time:Wed, 17 Apr 2019 16:43:23 GMT
 * 		
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("blue-utils"),require("blue-queue-pipe")):"function"==typeof define&&define.amd?define([,],e):"object"==typeof exports?exports.BlueCanvasTmpl=e(require("blue-utils"),require("blue-queue-pipe")):t.BlueCanvasTmpl=e(t.blueUtils,t.BlueQueuePipe)}("undefined"!=typeof self?self:this,function(t,e){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=3)}([function(e,n){e.exports=t},function(t,e,n){"use strict";e.a=function(){var t=this.options;if(!t.el)return{};var e=document.querySelector(t.el);if(!e)return{};var n=e.getContext("2d");return e.width=t.width,e.height=t.height,{canvasCtx:n,canvas:e}},e.b=function(){var t=this;this.canvas.defaultCanvasProperties||(this.canvas.defaultCanvasProperties={},a.a.each(o.a,function(e){t.canvas.defaultCanvasProperties[e]=t.canvasCtx[e]}))};var i=n(0),a=n.n(i),o=n(6)},function(t,e,n){"use strict";e.a=function(){var t=this,e=this.options;(e.renderList||[]).forEach(function(e){"img"===e.type?function(t){t.image&&(a.a.hook(this,t.created,[t]),this.canvasCtx.drawImage(t.image,t.x,t.y,t.width,t.height),a.a.hook(this,t.rendered,[t]))}.call(t,e):"text"===e.type?o.call(t,e):a.a.isFunction(e)&&a.a.hook(t,e),t.resetCanvasProperties()}),a.a.hook(this,e.rendered)},e.b=o;var i=n(0),a=n.n(i);function o(t){a.a.hook(this,t.created,[t]);var e=this.canvasCtx;e.font=t.font||"15px arial, 微软雅黑, sans-serif",e.fillStyle=t.style||"#000",e.fillText(t.content,t.x,t.y),a.a.hook(this,t.rendered,[t])}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);e.default=i.a},function(t,e,n){"use strict";var i=n(5),a=n(2),o=n(9),r=n(10),s=n(0),u=n.n(s),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{created:function(){},renderList:[],rendered:function(){}};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.init()}return c(t,[{key:"init",value:function(){i.a.call(this)}},{key:"renderText",value:function(t){a.b.call(this,t)}},{key:"resetCanvasProperties",value:function(){var t=this;u.a.each(this.canvas.defaultCanvasProperties,function(e,n){t.canvasCtx[n]=e})}},{key:"update",value:function(t){t&&(this.options=t),this.canvasCtx.clearRect(0,0,this.options.width,this.options.height),this.init()}},{key:"arc",value:function(){o.a.apply(this,arguments)}},{key:"getByteLength",value:function(){return r.a.apply(this,arguments)}}],[{key:"getByteLength",value:function(){return r.a.apply(this,arguments)}}]),t}();e.a=l},function(t,e,n){"use strict";var i=n(1),a=n(0),o=n.n(a),r=n(7);e.a=function(){this.loadQueue=[],this.id=0;var t=i.a.call(this),e=t.canvas,n=t.canvasCtx;e?(this.canvasCtx=n,this.canvas=e,i.b.call(this),o.a.hook(this,this.options.created),r.a.call(this)):console.warn("element is null")}},function(t,e,n){"use strict";e.a=["fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]},function(t,e,n){"use strict";e.a=function(){var t=this;this.id++,this.loadQueue=new r.a({methods:{next:function(){this.isEmpty()?s.a.call(t):a.a.hook(this,this.dequeue())}}}),function(t){var e=this,n=this.id;(t||[]).forEach(function(t){t.src&&e.loadQueue.enqueue(function(){var i=new Image;i.id=e.id,i.onload=function(){parseInt(i.id)===n&&(t.image=i,e.loadQueue.useMethod("next"))},i.onerror=function(){console.log("load error:"+i.src),e.loadQueue.useMethod("next")},i.src=t.src})}),this.loadQueue.useMethod("next")}.call(this,function(){var t=this.options.renderList,e=[];return a.a.each(t,function(t){"img"===t.type&&e.push(t)}),e}.call(this))};var i=n(0),a=n.n(i),o=n(8),r=n.n(o),s=n(2)},function(t,n){t.exports=e},function(t,e,n){"use strict";e.a=function(t,e,n,i,a,o,r){var s=this.canvasCtx;s.beginPath(),s.lineWidth=1,s[t+"Style"]=r,s.moveTo(e,n),s.lineTo(e+i,n),s.arcTo(e+i+o,n,e+i+o,n+o,o),s.lineTo(e+i+o,n+a),s.arcTo(e+i+o,n+a+o,e+i,n+o+a,o),s.lineTo(e,n+a+o),s.arcTo(e-o,n+a+o,e-o,n+a,o),s.lineTo(e-o,n+o),s.arcTo(e-o,n,e,n,o),s.closePath(),s[t]()}},function(t,e,n){"use strict";e.a=function(t,e,n){for(var a=0,o=0;o<t.length;o++){var r=t.charAt(o);if(null!=r.match(/[\u4E00-\u9FBF]/gi)||r.match(/[\u2014\u300a\u300b]/g)||null!=r.match(/[\uff0c\u3002\u201c\uff1a\u201d\u2014]/gi)&&!i.a.isWap||null!=r.match(/[\uff0c\u3002\uff1a]/gi)&&i.a.isWap?a+=2:a+=1,void 0!==e&&(e===a||e<a))return{val:t.substr(0,o+1),lastVal:t.substr(o+1)}}if(void 0!==e&&!0===n)return{val:t.substr(0),lastVal:""};return a};var i=n(11)},function(t,e,n){"use strict";e.a=function(){var t={isWeChat:!1,isWap:!1,isIPhone:!1,isIPad:!1,isAndroid:!1,isApp:!1,isPc:!1,isServer:!0};try{var e=navigator.userAgent,n=/iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/gi.test(e),i=/MicroMessenger/gi.test(e);t={isWeChat:i,isWap:n,isIPhone:/iPhone/gi.test(e),isIPad:/iPad/gi.test(e),isAndroid:/Android/gi.test(e),isApp:!1,isPc:!n,isServer:!1}}catch(t){}return t}}]).default});
//# sourceMappingURL=blue-canvas-tmpl.min.js.map