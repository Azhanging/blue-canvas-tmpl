/*!
 * 
 * blue-canvas-tmpl.js 1.0.3
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-canvas-tmpl
 * time:Thu, 11 Apr 2019 16:11:01 GMT
 * 		
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("blue-utils"),require("blue-queue-pipe")):"function"==typeof define&&define.amd?define([,],e):"object"==typeof exports?exports.BlueCanvasTmpl=e(require("blue-utils"),require("blue-queue-pipe")):t.BlueCanvasTmpl=e(t.blueUtils,t.BlueQueuePipe)}("undefined"!=typeof self?self:this,function(t,e){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="./static",i(i.s=3)}([function(e,i){e.exports=t},function(t,e,i){"use strict";e.a=function(){const t=this.options;if(!t.el)return{};const e=document.querySelector(t.el);if(!e)return{};const i=e.getContext("2d");return e.width=t.width,e.height=t.height,{canvasCtx:i,canvas:e}},e.b=function(){this.canvas.defaultCanvasProperties||(this.canvas.defaultCanvasProperties={},n.a.each(a.a,t=>{this.canvas.defaultCanvasProperties[t]=this.canvasCtx[t]}))};var s=i(0),n=i.n(s),a=i(6)},function(t,e,i){"use strict";e.a=function(){(this.options.renderList||[]).forEach(t=>{"img"===t.type?function(t){t.image&&(n.a.hook(this,t.created,[t]),this.canvasCtx.drawImage(t.image,t.x,t.y,t.width,t.height),n.a.hook(this,t.rendered,[t]))}.call(this,t):"text"===t.type?a.call(this,t):n.a.isFunction(t)&&n.a.hook(this,t),this.resetCanvasProperties()})},e.b=a;var s=i(0),n=i.n(s);function a(t){n.a.hook(this,t.created,[t]);const e=this.canvasCtx;e.font=t.font||"15px arial, 微软雅黑, sans-serif",e.fillStyle=t.style||"#000",e.fillText(t.content,t.x,t.y),n.a.hook(this,t.rendered,[t])}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(4);e.default=s.a},function(t,e,i){"use strict";var s=i(5),n=i(2),a=i(9),o=i(10),r=i(0),u=i.n(r);e.a=class{constructor(t={created(){},renderList:[],rendered(){}}){this.options=t,this.init()}init(){s.a.call(this)}renderText(t){n.b.call(this,t)}resetCanvasProperties(){u.a.each(this.canvas.defaultCanvasProperties,(t,e)=>{this.canvasCtx[e]=t})}update(t){t&&(this.options=t),this.canvasCtx.clearRect(0,0,this.options.width,this.options.height),this.init()}arc(){a.a.apply(this,arguments)}getByteLength(){return o.a.apply(this,arguments)}static getByteLength(){return o.a.apply(this,arguments)}}},function(t,e,i){"use strict";var s=i(1),n=i(0),a=i.n(n),o=i(7);e.a=function(t){this.loadQueue=[],this.id=0;const{canvas:e,canvasCtx:i}=s.a.call(this);e?(this.canvasCtx=i,this.canvas=e,s.b.call(this),a.a.hook(this,this.options.created),o.a.call(this)):console.warn("element is null")}},function(t,e,i){"use strict";e.a=["fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]},function(t,e,i){"use strict";e.a=function(){const t=this;this.id++,this.loadQueue=new o.a({methods:{next(){this.isEmpty()?(console.log("render"),r.a.call(t)):n.a.hook(this,this.dequeue())}}}),function(t){const e=this.id;(t||[]).forEach(t=>{t.src&&this.loadQueue.enqueue(()=>{const i=new Image;i.id=this.id,i.onload=(()=>{parseInt(i.id)===e&&(t.image=i,console.log("success"),this.loadQueue.useMethod("next"))}),i.onerror=(()=>{console.log("error"),this.loadQueue.useMethod("next")}),i.src=t.src})}),console.log("next"),this.loadQueue.useMethod("next")}.call(this,function(){const{renderList:t}=this.options,e=[];return n.a.each(t,t=>{"img"===t.type&&e.push(t)}),e}.call(this))};var s=i(0),n=i.n(s),a=i(8),o=i.n(a),r=i(2)},function(t,i){t.exports=e},function(t,e,i){"use strict";e.a=function(t,e,i,s,n,a,o){const r=this.canvasCtx;r.beginPath(),r.lineWidth=1,r[t+"Style"]=o,r.moveTo(e,i),r.lineTo(e+s,i),r.arcTo(e+s+a,i,e+s+a,i+a,a),r.lineTo(e+s+a,i+n),r.arcTo(e+s+a,i+n+a,e+s,i+a+n,a),r.lineTo(e,i+n+a),r.arcTo(e-a,i+n+a,e-a,i+n,a),r.lineTo(e-a,i+a),r.arcTo(e-a,i,e,i,a),r.closePath(),r[t]()}},function(t,e,i){"use strict";e.a=function(t,e,i){let n=0;for(let i=0;i<t.length;i++){let a=t.charAt(i);if(null!=a.match(/[\u4E00-\u9FBF]/gi)||a.match(/[\u2014\u300a\u300b]/g)||null!=a.match(/[\uff0c\u3002\u201c\uff1a\u201d\u2014]/gi)&&!s.a.isWap||null!=a.match(/[\uff0c\u3002\uff1a]/gi)&&s.a.isWap?n+=2:n+=1,void 0!==e&&(e===n||e<n))return{val:t.substr(0,i+1),lastVal:t.substr(i+1)}}if(void 0!==e&&!0===i)return{val:t.substr(0),lastVal:""};return n};var s=i(11)},function(t,e,i){"use strict";e.a=function(){let t={isWeChat:!1,isWap:!1,isIPhone:!1,isIPad:!1,isAndroid:!1,isApp:!1,isPc:!1,isServer:!0};try{const e=navigator.userAgent,i=/iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/gi.test(e),s=/MicroMessenger/gi.test(e);t={isWeChat:s,isWap:i,isIPhone:/iPhone/gi.test(e),isIPad:/iPad/gi.test(e),isAndroid:/Android/gi.test(e),isApp:!1,isPc:!i,isServer:!1}}catch(t){}return t}}]).default});
//# sourceMappingURL=blue-canvas-tmpl.min.js.map