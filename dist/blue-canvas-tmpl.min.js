/*!
 * 
 * blue-canvas-tmpl.js 1.0.6
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-canvas-tmpl
 * time:Fri, 27 Mar 2020 09:27:34 GMT
 * 
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("blueUtils"),require("BlueQueuePipe")):"function"==typeof define&&define.amd?define(["blueUtils","BlueQueuePipe"],t):"object"==typeof exports?exports.BlueCanvasTmpl=t(require("blueUtils"),require("BlueQueuePipe")):e.BlueCanvasTmpl=t(e.blueUtils,e.BlueQueuePipe)}(window,function(e,t){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./static",o(o.s=0)}([function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(1),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(2)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("./instance");t.default=o.default})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=1},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(3),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(4),o(5),o(12),o(14),o(16)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("blue-utils"),n=e("./init"),i=e("../render"),r=e("../arc"),u=e("../text"),a=function(){function e(e){void 0===e&&(e={}),this.canvas={},this.id=0,this.options=e,n.default.call(this)}return e.prototype.renderText=function(e){i.renderText.call(this,e)},e.prototype.resetCanvasProperties=function(){var e=this,t=this.canvas.defaultCanvasProperties;o.default.each(t,function(t,o){e.canvasCtx[o]=t})},e.prototype.update=function(e){e&&(this.options=e),this.canvasCtx.clearRect(0,0,this.options.width||100,this.options.height||100),n.default.call(this)},e.prototype.arc=function(){r.arc.apply(this,arguments)},e.prototype.getByteLength=function(){return u.getByteLength.apply(this,arguments)},e.getByteLength=function(){return u.getByteLength.apply(this,arguments)},e}();t.default=a})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=3},function(t,o){t.exports=e},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(3),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(6),o(4),o(9),o(6)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("../canvas"),n=e("blue-utils"),i=e("../img"),r=e("../canvas");t.default=function(){this.loadQueue=[],this.id=0;var e=o.initCanvas.call(this),t=e.canvas,u=e.canvasCtx;if(!t)return console.warn("element is null");this.canvasCtx=u,this.canvas=t,r.saveCanvasDefaultProperties.call(this),n.default.hook(this,this.options.created),i.load.call(this)}})},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(7),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(4),o(8)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("blue-utils"),n=e("./canvas-properties");t.initCanvas=function(){var e=this.options;if(!e.el)return{};var t=document.querySelector(e.el);if(!t)return{};var o=t.getContext("2d");return t.width=e.width,t.height=e.height,{canvasCtx:o,canvas:t}},t.saveCanvasDefaultProperties=function(){var e=this;this.canvas.defaultCanvasProperties||(this.canvas.defaultCanvasProperties={},o.default.each(n.default,function(t){e.canvas.defaultCanvasProperties[t]=e.canvasCtx[t]}))}})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=7},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(7),t);void 0!==a&&(e.exports=a)}else i=[o,t],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=["fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]})},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(10),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(4),o(11),o(12)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("blue-utils"),n=e("blue-queue-pipe"),i=e("../render");t.load=function(){var e=this;this.id++,this.loadQueue=new n.default({methods:{next:function(){this.isEmpty()?i.default.call(e):o.default.hook(this,this.dequeue())}}}),function(e){var t=this,o=this.id;(e||[]).forEach(function(e){e.src&&t.loadQueue.enqueue(function(){var n=new Image;n.id=t.id,n.onload=function(){parseInt(n.id)===o&&(e.image=n,t.loadQueue.useMethod("next"))},n.onerror=function(){console.log("load error:"+n.src),t.loadQueue.useMethod("next")},n.src=e.src})}),this.loadQueue.useMethod("next")}.call(this,function(){var e=this.options.renderList,t=[];return o.default.each(e,function(e){"image"===e.type&&t.push(e)}),t}.call(this))}})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=10},function(e,o){e.exports=t},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(13),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(4)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("blue-utils");function n(e){o.default.hook(this,e.created,[e]);var t=this.canvasCtx;t.font=e.font||"15px arial, 微软雅黑, sans-serif",t.fillStyle=e.style||"#000",t.fillText(e.content,e.x,e.y),o.default.hook(this,e.rendered,[e])}t.default=function(){var e=this,t=this.options;(t.renderList||[]).forEach(function(t){"image"===t.type?function(e){e.image&&(o.default.hook(this,e.created,[e]),this.canvasCtx.drawImage(e.image,e.x,e.y,e.width,e.height),o.default.hook(this,e.rendered,[e]))}.call(e,t):"text"===t.type?n.call(e,t):o.default.isFunction(t)&&o.default.hook(e,t),e.resetCanvasProperties()}),o.default.hook(this,t.rendered)},t.renderText=n})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=13},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(15),t);void 0!==a&&(e.exports=a)}else i=[o,t],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arc=function(e,t,o,n,i,r,u){var a=this.canvasCtx;a.beginPath(),a.lineWidth=1,a[e+"Style"]=u,a.moveTo(t,o),a.lineTo(t+n,o),a.arcTo(t+n+r,o,t+n+r,o+r,r),a.lineTo(t+n+r,o+i),a.arcTo(t+n+r,o+i+r,t+n,o+r+i,r),a.lineTo(t,o+i+r),a.arcTo(t-r,o+i+r,t-r,o+i,r),a.lineTo(t-r,o+r),a.arcTo(t-r,o,t,o,r),a.closePath(),a[e]()}})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=15},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(17),t);void 0!==a&&(e.exports=a)}else i=[o,t,o(18)],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=e("../device");t.getByteLength=function(e,t,n){void 0===n&&(n=!1);for(var i=0,r=0;r<e.length;r++){var u=e.charAt(r);if(null!=u.match(/[\u4E00-\u9FBF]/gi)||u.match(/[\u2014\u300a\u300b]/g)||null!=u.match(/[\uff0c\u3002\u201c\uff1a\u201d\u2014]/gi)&&!o.default.isWap||null!=u.match(/[\uff0c\u3002\uff1a]/gi)&&o.default.isWap?i+=2:i+=1,void 0!==t&&(t===i||t<i))return{val:e.substr(0,r+1),lastVal:e.substr(r+1)}}return void 0!==t&&!0===n?{val:e.substr(0),lastVal:""}:i}})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=17},function(e,t,o){var n,i,r;!function(u){if("object"==typeof e.exports){var a=u(o(19),t);void 0!==a&&(e.exports=a)}else i=[o,t],void 0===(r="function"==typeof(n=u)?n.apply(t,i):n)||(e.exports=r)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=navigator.userAgent,n=/iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/gi.test(o),i={isWeChat:/MicroMessenger/gi.test(o),isWap:n,isIPhone:/iPhone/gi.test(o),isIPad:/iPad/gi.test(o),isAndroid:/Android/gi.test(o),isApp:!1,isPc:!n,isServer:!1};t.default=i})},function(e,t){function o(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id=19}]).default});
//# sourceMappingURL=blue-canvas-tmpl.min.js.map