/*!
 * 
 * blue-canvas-tmpl.js 1.0.6
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-canvas-tmpl
 * time:Sun, 29 Mar 2020 06:00:53 GMT
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BlueCanvasTmpl=e():t.BlueCanvasTmpl=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=n(1);e.default=i.default},function(t,e,n){"use strict";n.r(e);var i=n(2),o=n(3),r=n(10),u=n(11),s=n(12);e.default=class{constructor(t={}){this.options={},this.canvas={},this.id=0,this.options=t,this.id=0,o.default.call(this)}renderText(t){r.renderText.call(this,t)}resetCanvasProperties(){const{defaultCanvasProperties:t}=this.canvas;i.default.each(t,(t,e)=>{this.canvasCtx[e]=t})}update(t){t&&(this.options=t),this.canvasCtx.clearRect(0,0,this.options.width||100,this.options.height||100),o.default.call(this)}arc(...t){u.arc.apply(this,[...t])}getByteLength(){return s.getByteLength.apply(this,arguments)}static getByteLength(){return s.getByteLength.apply(this,arguments)}}},function(t,e,n){"use strict";n.r(e);const i={isArray:t=>t instanceof Array,isUndef:t=>void 0===t||null===t,isFunction:t=>"function"==typeof t,hook(t,e,n=[]){return this.isFunction(e)?e.apply(t,n):e},each(t,e,n=!1){if(this.isUndef(t))return;let i=0,o=0,r=[];const u=t.length;if(this.isArray(t))for(;i<u;i++)n?r.push(e(t[i],i)):e(t[i],i);else for(i in t)t.hasOwnProperty(i)&&(n?r.push(e(t[i],i,o++)):e(t[i],i,o++));return n?r:void 0}};e.default=i},function(t,e,n){"use strict";n.r(e);var i=n(4),o=n(2),r=n(6);e.default=function(){this.loadQueue=[];const{canvas:t,canvasCtx:e}=i.initCanvas.call(this);if(!t)return console.warn("element is null");this.canvasCtx=e,this.canvas=t,i.saveCanvasDefaultProperties.call(this),o.default.hook(this,this.options.created),r.load.call(this)}},function(t,e,n){"use strict";n.r(e),n.d(e,"initCanvas",function(){return r}),n.d(e,"saveCanvasDefaultProperties",function(){return u});var i=n(2),o=n(5);function r(){const t=this.options;if(!t.el)return{};const e=document.querySelector(t.el);if(!e)return{};const n=e.getContext("2d");return e.width=t.width,e.height=t.height,{canvasCtx:n,canvas:e}}function u(){this.canvas.defaultCanvasProperties||(this.canvas.defaultCanvasProperties={},i.default.each(o.default,t=>{this.canvas.defaultCanvasProperties[t]=this.canvasCtx[t]}))}},function(t,e,n){"use strict";n.r(e);e.default=["fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]},function(t,e,n){"use strict";n.r(e),n.d(e,"load",function(){return s});var i=n(7),o=n.n(i),r=n(2),u=n(10);function s(){const t=this;this.id++,this.loadQueue=new o.a({methods:{next(){this.isEmpty()?u.default.call(t):r.default.hook(this,this.dequeue())}}}),function(t){const e=this.id;(t||[]).forEach(t=>{t.src&&this.loadQueue.enqueue(()=>{const n=new Image;n.id=this.id,n.onload=(()=>{parseInt(n.id)===e&&(t.image=n,this.loadQueue.useMethod("next"))}),n.onerror=(()=>{console.warn(`load error:${n.src}`),parseInt(n.id)===e&&this.loadQueue.useMethod("next")}),n.src=t.src})}),this.loadQueue.useMethod("next")}.call(this,function(){const{renderList:t}=this.options,e=[];return r.default.each(t,t=>{"image"===t.type&&e.push(t)}),e}.call(this))}},function(t,e,n){t.exports=n(8)},function(t,e,n){(function(t){var n,i,o,r,u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,
/*!
 * 
 * blue-queue-pipe.js 1.0.9
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-queue-pipe
 * time:Sat, 28 Mar 2020 15:49:57 GMT
 * 
 */
r=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===(void 0===t?"undefined":s(t))&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}
/*!
 * 
 * blue-queue-pipe.js 1.0.9
 * (c) 2016-2020 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-queue-pipe
 * time:Sat, 28 Mar 2020 15:49:57 GMT
 * 
 */(this,t),this._init(e)}return u(t,[{key:"_init",value:function(t){this.options=t,this.queue=[],this.data=t.data||{}}},{key:"enqueue",value:function(t){this.hook(this,this.options.enqueued,[this.queue.push(t)])}},{key:"dequeue",value:function(){var t=this.queue,e=this.options,n=t.shift();return this.hook(this,e.dequeued,[n]),n}},{key:"isEmpty",value:function(){return 0===this.queue.length}},{key:"clear",value:function(){this.queue=[]}},{key:"first",value:function(){return this.queue[0]}},{key:"last",value:function(){return this.queue[this.queue.length-1]}},{key:"run",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var o,r=this.options;!this.isEmpty();)o=void 0,o=t.dequeue(),t.hook(t,r.running,["function"==typeof o?o.apply(t,n):o]);this.hook(this,r.ran)}},{key:"hook",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return"function"==typeof e?e.apply(t,n):e}},{key:"useMethod",value:function(t,e){var n=this.options;if(n.methods)return this.hook(this,n.methods[t],e||[])}}]),t}();e.default=i}]).default},"object"===s(e)&&"object"===s(t)?t.exports=r():(i=[],void 0===(o="function"==typeof(n=r)?n.apply(e,i):n)||(t.exports=o))}).call(this,n(9)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o}),n.d(e,"renderText",function(){return r});var i=n(2);function o(){const t=this.options;(t.renderList||[]).forEach(t=>{"image"===t.type?function(t){t.image&&(i.default.hook(this,t.created,[t]),this.canvasCtx.drawImage(t.image,t.x,t.y,t.width,t.height),i.default.hook(this,t.rendered,[t]))}.call(this,t):"text"===t.type?r.call(this,t):i.default.isFunction(t)&&i.default.hook(this,t),this.resetCanvasProperties()}),i.default.hook(this,t.rendered)}function r(t){i.default.hook(this,t.created,[t]);const e=this.canvasCtx;e.font=t.font||"15px arial, 微软雅黑, sans-serif",e[`${t.drawType||"fill"}Style`]=t.style||"#000",e[`${t.drawType||"fill"}Text`](t.content,t.x,t.y),i.default.hook(this,t.rendered,[t])}},function(t,e,n){"use strict";function i(t,e,n,i,o,r,u){const s=this.canvasCtx;s.beginPath(),s.lineWidth=1,s[t+"Style"]=u,s.moveTo(e,n),s.lineTo(e+i,n),s.arcTo(e+i+r,n,e+i+r,n+r,r),s.lineTo(e+i+r,n+o),s.arcTo(e+i+r,n+o+r,e+i,n+r+o,r),s.lineTo(e,n+o+r),s.arcTo(e-r,n+o+r,e-r,n+o,r),s.lineTo(e-r,n+r),s.arcTo(e-r,n,e,n,r),s.closePath(),s[t]()}n.r(e),n.d(e,"arc",function(){return i})},function(t,e,n){"use strict";n.r(e),n.d(e,"getByteLength",function(){return o});var i=n(13);function o(t,e,n=!1){let o=0;for(let n=0;n<t.length;n++){let r=t.charAt(n);if(null!=r.match(/[\u4E00-\u9FBF]/gi)||r.match(/[\u2014\u300a\u300b]/g)||null!=r.match(/[\uff0c\u3002\u201c\uff1a\u201d\u2014]/gi)&&!i.default.isWap||null!=r.match(/[\uff0c\u3002\uff1a]/gi)&&i.default.isWap?o+=2:o+=1,void 0!==e&&(e===o||e<o))return{val:t.substr(0,n+1),lastVal:t.substr(n+1)}}return void 0!==e&&!0===n?{val:t.substr(0),lastVal:""}:o}},function(t,e,n){"use strict";n.r(e);const i=navigator.userAgent,o=/iPhone|iPad|Android|Windows Phone|KFAPWI|MeeGo/gi.test(i),r={isWeChat:/MicroMessenger/gi.test(i),isWap:o,isIPhone:/iPhone/gi.test(i),isIPad:/iPad/gi.test(i),isAndroid:/Android/gi.test(i),isApp:!1,isPc:!o,isServer:!1};e.default=r}]).default});
//# sourceMappingURL=blue-canvas-tmpl.min.js.map